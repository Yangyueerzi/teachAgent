<view class="practice-container">
  <!-- è¿›åº¦åŒºåŸŸ -->
  <view class="progress-section">
    <view class="progress-info">
      <text>ç¬¬ {{currentIndex + 1}} / {{words.length}} ä¸ªå•è¯</text>
      <text>æ­£ç¡®ç‡: {{accuracy}}%</text>
    </view>
    <t-progress 
      percentage="{{progressPercentage}}" 
      theme="primary"
      stroke-width="8rpx"
    />
  </view>

  <!-- å•è¯æ’­æ”¾åŒºåŸŸ -->
  <view class="word-section">
    <view class="word-card">
      <view class="play-button {{isPlaying ? 'playing' : ''}}" bind:tap="playWord">
        <text class="play-icon">{{isPlaying ? 'â¸ï¸' : 'â–¶ï¸'}}</text>
      </view>
      <view class="word-title">ç‚¹å‡»æ’­æ”¾å•è¯</view>
      <view class="word-desc">å¬æ¸…æ¥šåï¼Œåœ¨ä¸‹æ–¹è¾“å…¥æ¡†æ‹¼å†™</view>
      <view class="word-tip">ğŸ’¡ æç¤ºï¼šå¯ä»¥é‡å¤æ’­æ”¾å¤šæ¬¡</view>
    </view>
  </view>

  <!-- è¾“å…¥åŒºåŸŸ -->
  <view class="input-section">
    <view class="input-card">
      <view class="input-label">è¯·è¾“å…¥å¬åˆ°çš„å•è¯ï¼š</view>
      
      <!-- è¾“å…¥æ˜¾ç¤ºåŒºåŸŸ -->
      <view class="input-display">
        <text class="input-text">{{currentInput || 'å¼€å§‹æ‹¼å†™...'}}</text>
        <view class="cursor {{inputFocus ? 'blink' : ''}}"></view>
      </view>
      
      <!-- å›ºå®šé”®ç›˜ -->
      <view class="keyboard">
        <!-- ç¬¬ä¸€è¡Œ -->
        <view class="keyboard-row">
          <view class="key" wx:for="{{keyboardRow1}}" wx:key="index" data-key="{{item}}" bind:tap="onKeyPress">{{item}}</view>
        </view>
        
        <!-- ç¬¬äºŒè¡Œ -->
        <view class="keyboard-row">
          <view class="key" wx:for="{{keyboardRow2}}" wx:key="index" data-key="{{item}}" bind:tap="onKeyPress">{{item}}</view>
        </view>
        
        <!-- ç¬¬ä¸‰è¡Œ -->
        <view class="keyboard-row">
          <view class="key" wx:for="{{keyboardRow3}}" wx:key="index" data-key="{{item}}" bind:tap="onKeyPress">{{item}}</view>
          <view class="key key-delete" data-key="delete" bind:tap="onKeyPress">âŒ«</view>
        </view>
        
        <!-- ç¬¬å››è¡Œ -->
        <view class="keyboard-row">
          <view class="key key-space" data-key="space" bind:tap="onKeyPress">ç©ºæ ¼</view>
          <view class="key key-submit" data-key="submit" bind:tap="submitWord">æäº¤</view>
        </view>
      </view>
      
      <view class="input-hint">ç‚¹å‡»å­—æ¯é”®æ‹¼å†™å•è¯ï¼Œå®Œæˆåç‚¹å‡»"æäº¤"</view>
    </view>
  </view>
</view>

<!-- åé¦ˆå¼¹çª— -->
<view class="feedback-overlay {{showFeedback ? 'show' : ''}}" wx:if="{{showFeedback}}">
  <view class="feedback-content {{feedbackType}}">
    <view class="feedback-icon">
      {{feedbackType === 'correct' ? 'âœ…' : 'âŒ'}}
    </view>
    <view class="feedback-text">{{feedbackMessage}}</view>
  </view>
</view>

<!-- Toast ç»„ä»¶ -->
<t-toast id="t-toast" /> 