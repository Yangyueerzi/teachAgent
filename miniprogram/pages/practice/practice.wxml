<view class="practice-container">
  <!-- è¿›åº¦åŒºåŸŸ -->
  <view class="progress-section">
    <view class="progress-info">
      <text>ç¬¬ {{currentIndex + 1}} / {{words.length}} ä¸ªå•è¯</text>
      <text>æ­£ç¡®ç‡: {{accuracy}}%</text>
    </view>
    <t-progress 
      percentage="{{progressPercentage}}" 
      theme="primary"
      stroke-width="8rpx"
    />
  </view>

  <!-- å•è¯æ’­æ”¾åŒºåŸŸ -->
  <view class="word-section">
    <view class="word-card">
      <view class="play-button {{isPlaying ? 'playing' : ''}}" bind:tap="playWord">
        <t-icon name="{{isPlaying ? 'pause' : 'play'}}" size="64rpx" color="#ffffff" />
      </view>
      <view class="word-title">ç‚¹å‡»æ’­æ”¾å•è¯</view>
      <view class="word-desc">å¬æ¸…æ¥šåï¼Œç‚¹å‡»ä¸‹æ–¹å­—æ¯é”®æ‹¼å†™</view>
      <view class="word-tip">ğŸ’¡ æç¤ºï¼šå¯ä»¥é‡å¤æ’­æ”¾å¤šæ¬¡</view>
    </view>
  </view>

  <!-- è¾“å…¥åŒºåŸŸ -->
  <view class="input-section">
    <view class="input-display">
      <text wx:if="{{currentInput}}">{{currentInput}}</text>
      <text wx:else class="placeholder">å¼€å§‹æ‹¼å†™...</text>
    </view>
    
    <!-- å­—æ¯é”®ç›˜ -->
    <view class="keyboard">
      <view 
        class="key {{pressedKey === item ? 'pressed' : ''}}" 
        wx:for="{{keyboardLayout}}" 
        wx:key="index"
        data-letter="{{item}}"
        bind:touchstart="onKeyPress"
        bind:touchend="onKeyRelease"
      >
        {{item}}
      </view>
    </view>

    <!-- æ§åˆ¶æŒ‰é’® -->
    <view class="control-buttons">
      <t-button 
        theme="default" 
        size="large" 
        bind:tap="clearInput"
        class="control-btn"
      >
        æ¸…é™¤
      </t-button>
      <t-button 
        theme="primary" 
        size="large" 
        bind:tap="submitWord"
        class="control-btn"
        disabled="{{!currentInput}}"
      >
        æäº¤
      </t-button>
    </view>
  </view>
</view>

<!-- åé¦ˆå¼¹çª— -->
<view class="feedback-overlay {{showFeedback ? 'show' : ''}}" wx:if="{{showFeedback}}">
  <view class="feedback-content {{feedbackType}}">
    <view class="feedback-icon">
      {{feedbackType === 'correct' ? 'âœ…' : 'âŒ'}}
    </view>
    <view class="feedback-text">{{feedbackMessage}}</view>
  </view>
</view>

<!-- Toast ç»„ä»¶ -->
<t-toast id="t-toast" /> 